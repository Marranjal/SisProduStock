<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                template="/WEB-INF/templates/Layout.xhtml">

    <h:form id="frm1">
        <p:dataGrid var="mesas" value="#{vendaController.listaDeMesas}" columns="3" layout="grid"
                    rows="6" id="mesaGrid">

            <f:facet name="header">
                Venda Por Mesas
            </f:facet>

            <p:panel header=" MESA NÂº #{mesas.numeroMesa}" style="text-align:center">
                <h:panelGrid id="mesaPanelGrid" columns="1" style="width:100%">

                    <f:facet name="header">
                        <p:graphicImage name="simples/images/#{mesas.imagemMesa()}" />
                    </f:facet>

                    <h:outputText value="#{mesas.contaMesa}" >
                        <f:convertNumber  pattern="#,##0.00 KZ" />
                    </h:outputText>

                    <h:panelGrid columns="2" style="width: 100%">

                        <h:panelGrid columns="1">

                            <p:commandLink  title="View Detail">
                                <i class="fa  fa-fw fa-plus-circle" ></i>
                                <f:setPropertyActionListener value="#{mesas}" target="#{vendaController.mesaSelecionada}" />
                            </p:commandLink>

                        </h:panelGrid>

                        <h:panelGrid columns="2" style="margin-left: 80%" cellspacing="10px">

                            <p:commandLink   title="Imprimir Conta">
                                <i class="fa  fa-fw fa-print" ></i>
                                <f:setPropertyActionListener value="#{mesas}" target="#{vendaController.mesaSelecionada}" />
                            </p:commandLink>

                            <p:commandLink  title="Finalizar Conta">
                                <i class="fa  fa-fw fa-money" ></i>
                                <f:setPropertyActionListener value="#{mesas}" target="#{vendaController.mesaSelecionada}" />
                            </p:commandLink>
                        </h:panelGrid>
                    </h:panelGrid>

                </h:panelGrid>
            </p:panel>
        </p:dataGrid>
    </h:form>
</ui:composition>